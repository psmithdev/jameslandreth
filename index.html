<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dr. James Landreth - Document Archive</title>
    <style>
/* Reset and Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
    line-height: 1.7;
    color: #1f2937;
    background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    min-height: 100vh;
    font-size: 16px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

/* Header */
.site-header {
    background: rgba(255, 255, 255, 0.98);
    backdrop-filter: blur(20px);
    border-bottom: 1px solid rgba(148, 163, 184, 0.1);
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
    padding: 24px 0;
    position: sticky;
    top: 0;
    z-index: 100;
    transition: all 0.3s ease;
}

.header-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo-container {
    display: flex;
    align-items: center;
    gap: 16px;
}

.logo-icon {
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.25);
}

.logo-text {
    display: flex;
    flex-direction: column;
}

.site-title {
    font-size: 1.875rem;
    font-weight: 700;
    color: #0f172a;
    letter-spacing: -0.025em;
    margin: 0;
    line-height: 1.2;
}

.site-subtitle {
    font-size: 0.875rem;
    color: #64748b;
    font-weight: 500;
    margin: 0;
    line-height: 1.4;
}

.header-nav {
    display: flex;
    align-items: center;
    gap: 32px;
}

.nav-links {
    display: flex;
    align-items: center;
    gap: 8px;
}

.nav-link {
    color: #64748b;
    text-decoration: none;
    font-weight: 500;
    font-size: 0.875rem;
    padding: 8px 16px;
    border-radius: 8px;
    transition: all 0.2s ease;
    position: relative;
}

.nav-link:hover {
    color: #3b82f6;
    background: rgba(59, 130, 246, 0.05);
}

.nav-link.active {
    color: #3b82f6;
    background: rgba(59, 130, 246, 0.1);
    font-weight: 600;
}

.search-container {
    position: relative;
}

.search-input {
    padding: 12px 45px 12px 16px;
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    width: 320px;
    font-size: 14px;
    background: white;
    transition: all 0.2s ease;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.search-input:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1), 0 1px 3px rgba(0, 0, 0, 0.1);
}

.search-btn {
    position: absolute;
    right: 6px;
    top: 50%;
    transform: translateY(-50%);
    background: #3b82f6;
    border: none;
    color: white;
    padding: 8px 12px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.search-btn:hover {
    background: #2563eb;
    box-shadow: 0 2px 4px rgba(37, 99, 235, 0.25);
}

.stat-card:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-color: rgba(148, 163, 184, 0.2);
}

.filter-select:hover {
    border-color: #cbd5e1;
}

.filter-select:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.upload-link {
    background: #059669;
    color: white;
    text-decoration: none;
    padding: 12px 20px;
    border-radius: 12px;
    font-weight: 600;
    font-size: 14px;
    transition: all 0.2s ease;
    white-space: nowrap;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

.upload-link:hover {
    background: #047857;
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(5, 150, 105, 0.25);
}

/* Main Content */
.main-container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 40px 30px;
}

/* Welcome Banner */
.welcome-banner {
    background: white;
    border: 1px solid rgba(148, 163, 184, 0.1);
    border-radius: 16px;
    padding: 48px;
    margin-bottom: 48px;
    text-align: center;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
}

.welcome-banner h1 {
    font-size: 2.5rem;
    color: #0f172a;
    margin-bottom: 16px;
    font-weight: 700;
    letter-spacing: -0.025em;
}

.welcome-banner p {
    font-size: 1.125rem;
    color: #64748b;
    max-width: 720px;
    margin: 0 auto;
    line-height: 1.7;
    font-weight: 400;
}

/* Filter Controls */
.filter-controls {
    background: white;
    border: 1px solid rgba(148, 163, 184, 0.1);
    border-radius: 12px;
    padding: 32px;
    margin-bottom: 32px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
}

.filter-row {
    display: flex;
    gap: 20px;
    align-items: center;
    flex-wrap: wrap;
}

.filter-group {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.filter-group label {
    font-weight: 600;
    color: #374151;
    font-size: 0.875rem;
    margin-bottom: 8px;
}

.filter-select {
    padding: 12px 16px;
    border: 1px solid #e2e8f0;
    border-radius: 8px;
    background: white;
    min-width: 160px;
    cursor: pointer;
    font-size: 0.875rem;
    color: #374151;
    transition: all 0.2s ease;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

.filter-tags {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 15px;
}

.filter-tag {
    background: #f1f5f9;
    color: #475569;
    border: 1px solid #e2e8f0;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 0.875rem;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.2s ease;
}

.filter-tag:hover {
    background: #e2e8f0;
    border-color: #cbd5e1;
}

.filter-tag.active {
    background: #3b82f6;
    color: white;
    border-color: #3b82f6;
}

/* Document Grid */
.documents-section {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
    gap: 25px;
    margin-bottom: 40px;
}

.document-card {
    background: white;
    border: 1px solid rgba(148, 163, 184, 0.1);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
    transition: all 0.2s ease;
    cursor: pointer;
}

.document-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: rgba(148, 163, 184, 0.2);
}

.document-preview {
    height: 200px;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    transition: transform 0.3s ease;
    padding: 15px;
}

/* Document Paper Effect */
.doc-paper {
    width: 100%;
    height: 100%;
    background: white;
    border-radius: 6px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    padding: 12px;
    position: relative;
    transform: perspective(300px) rotateX(5deg) rotateY(-2deg);
    transition: transform 0.3s ease;
}

.document-card:hover .doc-paper {
    transform: perspective(300px) rotateX(0deg) rotateY(0deg);
}

/* Document Header */
.doc-header {
    border-bottom: 1px solid #e9ecef;
    padding-bottom: 8px;
    margin-bottom: 10px;
}

.doc-title-text {
    font-size: 10px;
    font-weight: 600;
    color: #2c3e50;
    font-family: "Georgia", serif;
    line-height: 1.2;
}

.doc-subtitle-text {
    font-size: 8px;
    color: #7f8c8d;
    font-style: italic;
    margin-top: 2px;
}

.doc-author-text {
    font-size: 8px;
    color: #6c757d;
    margin-top: 3px;
}

/* Document Content Lines */
.doc-content-lines {
    display: flex;
    flex-direction: column;
    gap: 3px;
}

.doc-line {
    height: 2px;
    background: #dee2e6;
    border-radius: 1px;
}

.doc-line.long { width: 85%; }
.doc-line.medium { width: 65%; }
.doc-line.short { width: 45%; }

/* Special Elements */
.doc-photo-space {
    width: 40px;
    height: 25px;
    background: rgba(0,0,0,0.05);
    border-radius: 3px;
    margin: 4px 0;
    position: relative;
    border: 1px dashed rgba(0,0,0,0.1);
}

.doc-photo-space.large {
    width: 60px;
    height: 35px;
}

.doc-photo-placeholder {
    width: 40px;
    height: 25px;
    background: linear-gradient(45deg, #e9ecef, #dee2e6);
    border-radius: 3px;
    margin: 4px 0;
    position: relative;
}

.doc-photo-placeholder::after {
    content: "📷";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 8px;
    opacity: 0.6;
}

/* Image Overlay System */
.doc-image-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-size: cover;
    background-position: center;
    border-radius: 6px;
    z-index: 1;
    opacity: 1;
    transition: all 0.3s ease;
}

.document-card:hover .doc-image-overlay {
    opacity: 1;
    transform: scale(1.02);
}

.doc-image-overlay-gradient {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        135deg,
        rgba(255,255,255,0.75) 0%,
        rgba(255,255,255,0.5) 30%,
        rgba(255,255,255,0.2) 60%,
        rgba(255,255,255,0.7) 100%
    );
    border-radius: 6px;
}

/* Ensure document content stays above overlay */
.doc-paper {
    position: relative;
    z-index: 2;
    background: rgba(255,255,255,0.88);
    backdrop-filter: blur(2px);
    border: 1px solid rgba(255,255,255,0.8);
}

/* Enhanced styling for documents with image overlays */
.document-preview:has(.doc-image-overlay) .doc-paper {
    background: rgba(255,255,255,0.85);
    box-shadow: 0 4px 16px rgba(0,0,0,0.2);
    border: 1px solid rgba(255,255,255,0.9);
}

.document-preview:has(.doc-image-overlay) .doc-title-text {
    color: #1a202c;
    text-shadow: 0 1px 3px rgba(255,255,255,0.9);
    font-weight: 700;
}

.document-preview:has(.doc-image-overlay) .doc-subtitle-text {
    color: #2d3748;
    text-shadow: 0 1px 2px rgba(255,255,255,0.8);
    font-weight: 600;
}

.document-preview:has(.doc-image-overlay) .doc-line {
    background: rgba(45, 55, 72, 0.4);
}

/* Alternative: Corner image peek */
.doc-image-corner {
    position: absolute;
    top: 8px;
    right: 8px;
    width: 45px;
    height: 30px;
    background-size: cover;
    background-position: center;
    border-radius: 4px;
    z-index: 3;
    opacity: 0.8;
    border: 2px solid rgba(255,255,255,0.9);
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.doc-map-placeholder {
    font-size: 16px;
    text-align: center;
    margin: 4px 0;
    opacity: 0.7;
}

.doc-chart-placeholder {
    font-size: 14px;
    text-align: center;
    margin: 4px 0;
    opacity: 0.7;
}

.doc-family-tree {
    font-size: 12px;
    text-align: center;
    margin: 4px 0;
    opacity: 0.7;
}

.doc-photo-grid {
    display: flex;
    gap: 3px;
    margin: 4px 0;
}

.doc-small-photo {
    width: 15px;
    height: 10px;
    background: #f8f9fa;
    border-radius: 2px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 6px;
    opacity: 0.8;
}

/* PDF vs Word Document Styling */
.document-preview-pdf .doc-paper {
    background: #fefefe;
    border: 1px solid #e9ecef;
}

.document-preview-word .doc-paper {
    background: #fafbfc;
    border: 1px solid #4285f4;
    border-left: 3px solid #4285f4;
}

/* Subtle animations */
.doc-paper::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(0,0,0,0.1), transparent);
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .doc-paper {
        transform: none;
        padding: 8px;
    }
    
    .doc-title-text {
        font-size: 9px;
    }
    
    .doc-subtitle-text, .doc-author-text {
        font-size: 7px;
    }
}

.document-type {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(102, 126, 234, 0.9);
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 10px;
    font-weight: 600;
}

.document-info {
    padding: 20px;
}

.document-category {
    color: #3b82f6;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 8px;
}

.document-title {
    font-size: 1.25rem;
    font-weight: 600;
    color: #0f172a;
    margin-bottom: 12px;
    line-height: 1.4;
    letter-spacing: -0.025em;
}

.document-excerpt {
    font-size: 0.875rem;
    color: #64748b;
    line-height: 1.6;
    margin-bottom: 16px;
}

.document-meta {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 15px;
    border-top: 1px solid #e9ecef;
}

.document-date {
    font-size: 12px;
    color: #adb5bd;
}

.document-pages {
    background: #f8f9fa;
    color: #6c757d;
    padding: 4px 8px;
    border-radius: 8px;
    font-size: 11px;
    font-weight: 600;
}

/* Timeline Section */
.timeline-section {
    background: white;
    border: 1px solid rgba(148, 163, 184, 0.1);
    border-radius: 16px;
    padding: 48px;
    margin-bottom: 48px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
}

.timeline-header {
    text-align: center;
    margin-bottom: 40px;
}

.timeline-header h2 {
    font-size: 2.25rem;
    color: #0f172a;
    margin-bottom: 12px;
    font-weight: 700;
    letter-spacing: -0.025em;
}

.timeline-nav {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 30px;
    flex-wrap: wrap;
}

.timeline-year {
    background: #f1f5f9;
    color: #475569;
    border: 1px solid #e2e8f0;
    padding: 12px 24px;
    border-radius: 24px;
    cursor: pointer;
    transition: all 0.2s ease;
    font-weight: 600;
    font-size: 0.875rem;
}

.timeline-year:hover, .timeline-year.active {
    background: #3b82f6;
    color: white;
    border-color: #3b82f6;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(59, 130, 246, 0.25);
}

/* Featured Documents */
.featured-section {
    margin-bottom: 40px;
}

.featured-header {
    text-align: center;
    margin-bottom: 30px;
}

.featured-header h2 {
    font-size: 1.875rem;
    color: #0f172a;
    margin-bottom: 12px;
    font-weight: 700;
    letter-spacing: -0.025em;
}

.featured-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
}

.featured-card {
    background: white;
    border: 1px solid rgba(148, 163, 184, 0.1);
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
    transition: all 0.2s ease;
}

.featured-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    border-color: rgba(148, 163, 184, 0.2);
}

/* Stats */
.stats-section {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 24px;
    margin-bottom: 48px;
}

.stat-card {
    background: white;
    border: 1px solid rgba(148, 163, 184, 0.1);
    border-radius: 12px;
    padding: 32px 24px;
    text-align: center;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
    transition: all 0.2s ease;
}

.stat-number {
    font-size: 2.25rem;
    font-weight: 700;
    color: #3b82f6;
    margin-bottom: 8px;
    letter-spacing: -0.025em;
}

.stat-label {
    color: #64748b;
    font-size: 0.875rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

/* Responsive Design */
@media (max-width: 768px) {
    .header-container {
        flex-direction: column;
        gap: 24px;
        text-align: center;
    }
    
    .logo-container {
        justify-content: center;
    }
    
    .header-nav {
        flex-direction: column;
        gap: 20px;
        width: 100%;
    }
    
    .nav-links {
        justify-content: center;
    }
    
    .search-input {
        width: 280px;
    }
    
    .welcome-banner {
        padding: 32px 24px;
    }
    
    .welcome-banner h1 {
        font-size: 2rem;
    }
    
    .welcome-banner p {
        font-size: 1rem;
    }
    
    .documents-section {
        grid-template-columns: 1fr;
    }
    
    .filter-row {
        flex-direction: column;
        align-items: stretch;
        gap: 16px;
    }
    
    .filter-group {
        width: 100%;
    }
    
    .filter-select {
        width: 100%;
    }
    
    .timeline-nav {
        gap: 8px;
    }
    
    .timeline-year {
        padding: 8px 16px;
        font-size: 0.8125rem;
    }
    
    .main-container {
        padding: 24px 20px;
    }
    
    .stat-card {
        padding: 24px 20px;
    }
    
    .timeline-section, .welcome-banner {
        padding: 32px 24px;
    }
}

/* Loading Animation */
.loading {
    opacity: 0.7;
    pointer-events: none;
}

/* Interactive Elements */
.btn-primary {
    background: #667eea;
    color: white;
    border: none;
    padding: 12px 24px;
    border-radius: 25px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
}

.btn-primary:hover {
    background: #5a67d8;
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
}

/* Search Results Banner Animation */
@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Smooth scroll to results */
.scroll-to-results {
    animation: highlightSection 2s ease;
}

@keyframes highlightSection {
    0% { 
        background: rgba(16, 185, 129, 0.1);
        transform: scale(1.01);
    }
    100% { 
        background: transparent;
        transform: scale(1);
    }
}
    </style>
</head>
<body>

<header class="site-header">
    <div class="header-container">
        <div class="site-branding">
            <div class="logo-container">
                <div class="logo-icon">📚</div>
                <div class="logo-text">
                    <h1 class="site-title">Dr. James Landreth</h1>
                    <p class="site-subtitle">Digital Archive & Chronicles</p>
                </div>
            </div>
        </div>
        <nav class="header-nav">
            <div class="nav-links">
                <a href="#" class="nav-link active">Archive</a>
                <a href="upload.html" class="nav-link">Upload</a>
                <a href="admin.html" class="nav-link">Admin</a>
            </div>
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search documents...">
                <button class="search-btn">🔍</button>
            </div>
        </nav>
    </div>
</header>

<main class="main-container">
    
    <!-- Welcome Banner -->
    <section class="welcome-banner">
        <h1>Document Archive</h1>
        <p>Welcome to Dr. James Landreth's personal collection of travel journals, family newsletters, essays, and life adventures. Each document has been carefully preserved with its original formatting and imagery to share these stories with family, friends, and fellow travelers.</p>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="stat-card">
            <div class="stat-number">247</div>
            <div class="stat-label">Documents</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">52</div>
            <div class="stat-label">Countries Visited</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">15</div>
            <div class="stat-label">Years of Stories</div>
        </div>
        <div class="stat-card">
            <div class="stat-number">1,200+</div>
            <div class="stat-label">Photos Shared</div>
        </div>
    </section>

    <!-- Filter Controls -->
    <section class="filter-controls">
        <div class="filter-row">
            <div class="filter-group">
                <label>Category</label>
                <select class="filter-select">
                    <option>All Categories</option>
                    <option>Travel Journals</option>
                    <option>Family Newsletters</option>
                    <option>Essays</option>
                    <option>Medical Experiences</option>
                    <option>Photography</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Year</label>
                <select class="filter-select">
                    <option>All Years</option>
                    <option>2024</option>
                    <option>2023</option>
                    <option>2022</option>
                    <option>2021</option>
                    <option>2020</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Location</label>
                <select class="filter-select">
                    <option>All Locations</option>
                    <option>Japan</option>
                    <option>Europe</option>
                    <option>United States</option>
                    <option>Asia</option>
                    <option>Africa</option>
                </select>
            </div>
        </div>
        <div class="filter-tags">
            <span class="filter-tag active">Recent</span>
            <span class="filter-tag">Family</span>
            <span class="filter-tag">Travel</span>
            <span class="filter-tag">Medical</span>
            <span class="filter-tag">Photography</span>
            <span class="filter-tag">Essays</span>
        </div>
    </section>

    <!-- Featured Documents -->
    <section class="featured-section">
        <div class="featured-header">
            <h2>Featured Documents</h2>
        </div>
        <div class="featured-grid">
            <!-- Featured documents will be populated by JavaScript -->
        </div>
    </section>

    <!-- All Documents Grid -->
    <section class="documents-section">
        <!-- Documents will be populated by JavaScript -->
    </section>

    <!-- Timeline Section -->
    <section class="timeline-section">
        <div class="timeline-header">
            <h2>Journey Through Time</h2>
            <p>Browse documents by year to follow the chronological story</p>
        </div>
        <div class="timeline-nav">
            <span class="timeline-year active">2024</span>
            <span class="timeline-year">2023</span>
            <span class="timeline-year">2022</span>
            <span class="timeline-year">2021</span>
            <span class="timeline-year">2020</span>
            <span class="timeline-year">2019</span>
            <span class="timeline-year">2018</span>
            <span class="timeline-year">2017</span>
        </div>
    </section>

</main>

<script>
// Document data for filtering and search
const documentData = [
    {
        id: 'famille-2017',
        title: 'Les Nouvelles de Famille 2017',
        category: 'Family Newsletter',
        excerpt: 'Being a yearly news report of the adventures of Aleda, Jim, Mark and Leanne for 2017. Features family updates, travels, and memorable moments from the year.',
        date: 'December 2017',
        year: 2017,
        location: 'United States',
        tags: ['family', 'newsletter', '2017', 'travel', 'updates'],
        pages: '4 pages',
        type: 'PDF',
        featured: true
    },
    {
        id: 'plague-year',
        title: 'Our Journal of the Plague Year',
        category: 'Travel Journal',
        excerpt: 'With apologies to Daniel Defoe. The further adventures of Aleda, Jim, Mark and Leanne in 2020. A unique perspective on traveling during unprecedented times.',
        date: 'December 2020',
        year: 2020,
        location: 'United States',
        tags: ['travel', 'journal', '2020', 'covid', 'adventures'],
        pages: '6 pages',
        type: 'PDF',
        featured: true
    },
    {
        id: 'ties-talk',
        title: 'If Ties Could Talk',
        category: 'Essay',
        excerpt: 'A thoughtful reflection on the stories behind a collection of neckties, each representing different chapters of life, career, and personal relationships.',
        date: 'March 2024',
        year: 2024,
        location: 'United States',
        tags: ['essay', 'personal', 'reflection', 'career'],
        pages: '3 pages',
        type: 'Word',
        featured: true
    },
    {
        id: 'japan-2023',
        title: 'Japan Adventures 2023',
        category: 'Travel',
        excerpt: 'A comprehensive guide to our latest journey through Japan, including hidden gems, cultural experiences, and photography tips.',
        date: 'November 2023',
        year: 2023,
        location: 'Japan',
        tags: ['travel', 'japan', 'photography', 'culture', 'adventure'],
        pages: '12 pages',
        type: 'PDF',
        featured: false
    },
    {
        id: 'medical-reflections',
        title: 'Reflections on Medical Practice',
        category: 'Medical',
        excerpt: 'Looking back on 40 years of medical practice, the evolution of healthcare, and lessons learned from patients.',
        date: 'June 2023',
        year: 2023,
        location: 'United States',
        tags: ['medical', 'healthcare', 'career', 'reflection'],
        pages: '8 pages',
        type: 'Word',
        featured: false
    },
    {
        id: 'photography-2022',
        title: 'Through the Lens: 2022',
        category: 'Photography',
        excerpt: 'A collection of favorite photographs from 2022 with stories behind each image and technical notes for fellow photographers.',
        date: 'January 2023',
        year: 2023,
        location: 'Europe',
        tags: ['photography', 'images', 'technical', 'stories'],
        pages: '16 pages',
        type: 'PDF',
        featured: false
    },
    {
        id: 'family-history',
        title: 'Family History Project',
        category: 'Family',
        excerpt: 'Tracing our family lineage through historical records, interviews, and discovered documents spanning three generations.',
        date: 'September 2022',
        year: 2022,
        location: 'United States',
        tags: ['family', 'history', 'genealogy', 'research'],
        pages: '24 pages',
        type: 'Word',
        featured: false
    },
    {
        id: 'europe-railway',
        title: 'European Railway Journey',
        category: 'Travel',
        excerpt: 'Six weeks traveling through Europe by train, discovering small towns, meeting locals, and documenting the changing landscape.',
        date: 'August 2022',
        year: 2022,
        location: 'Europe',
        tags: ['travel', 'europe', 'railway', 'train', 'adventure'],
        pages: '18 pages',
        type: 'PDF',
        featured: false
    },
    {
        id: 'retirement-art',
        title: 'The Art of Retirement',
        category: 'Essay',
        excerpt: 'Navigating the transition from active medical practice to retirement, finding new purposes, and embracing life\'s next chapter.',
        date: 'May 2022',
        year: 2022,
        location: 'United States',
        tags: ['retirement', 'transition', 'purpose', 'life'],
        pages: '5 pages',
        type: 'Word',
        featured: false
    }
];

// Current filter state
let currentFilters = {
    search: '',
    category: '',
    year: '',
    location: '',
    activeTag: 'Recent'
};

// Initialize search and filtering
document.addEventListener('DOMContentLoaded', function() {
    initializeSearch();
    initializeFilters();
    applyFilters();
});

// Search functionality
function initializeSearch() {
    const searchInput = document.querySelector('.search-input');
    const searchBtn = document.querySelector('.search-btn');
    
    if (!searchInput) return;
    
    searchInput.addEventListener('input', function() {
        currentFilters.search = this.value.toLowerCase();
        setTimeout(() => applyFilters(), 100);
    });
    
    searchBtn.addEventListener('click', function() {
        applyFilters();
    });
    
    // Enter key search
    searchInput.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
            applyFilters();
        }
    });
}

// Filter controls
function initializeFilters() {
    // Category filter
    const categorySelect = document.querySelector('.filter-select');
    categorySelect.addEventListener('change', function() {
        currentFilters.category = this.value;
        applyFilters();
    });
    
    // Year filter
    const yearSelects = document.querySelectorAll('.filter-select');
    if (yearSelects[1]) {
        yearSelects[1].addEventListener('change', function() {
            currentFilters.year = this.value;
            applyFilters();
        });
    }
    
    // Location filter
    if (yearSelects[2]) {
        yearSelects[2].addEventListener('change', function() {
            currentFilters.location = this.value;
            applyFilters();
        });
    }
    
    // Filter tags
    document.querySelectorAll('.filter-tag').forEach(tag => {
        tag.addEventListener('click', function() {
            document.querySelectorAll('.filter-tag').forEach(t => t.classList.remove('active'));
            this.classList.add('active');
            currentFilters.activeTag = this.textContent;
            applyFilters();
        });
    });
    
    // Timeline years
    document.querySelectorAll('.timeline-year').forEach(year => {
        year.addEventListener('click', function() {
            document.querySelectorAll('.timeline-year').forEach(y => y.classList.remove('active'));
            this.classList.add('active');
            currentFilters.year = this.textContent;
            
            // Update year dropdown
            const yearSelect = document.querySelectorAll('.filter-select')[1];
            if (yearSelect) {
                yearSelect.value = this.textContent;
            }
            
            applyFilters();
        });
    });
}

// Apply filters and search
function applyFilters() {
    let filteredDocuments = [...documentData];
    
    // Apply search filter
    if (currentFilters.search) {
        filteredDocuments = filteredDocuments.filter(doc => 
            doc.title.toLowerCase().includes(currentFilters.search) ||
            doc.excerpt.toLowerCase().includes(currentFilters.search) ||
            doc.category.toLowerCase().includes(currentFilters.search) ||
            doc.tags.some(tag => tag.toLowerCase().includes(currentFilters.search))
        );
    }
    
    // Apply category filter
    if (currentFilters.category && currentFilters.category !== 'All Categories') {
        filteredDocuments = filteredDocuments.filter(doc => 
            doc.category.includes(currentFilters.category) || 
            doc.category.toLowerCase().includes(currentFilters.category.toLowerCase())
        );
    }
    
    // Apply year filter
    if (currentFilters.year && currentFilters.year !== 'All Years') {
        filteredDocuments = filteredDocuments.filter(doc => 
            doc.year.toString() === currentFilters.year
        );
    }
    
    // Apply location filter
    if (currentFilters.location && currentFilters.location !== 'All Locations') {
        filteredDocuments = filteredDocuments.filter(doc => 
            doc.location === currentFilters.location
        );
    }
    
    // Apply tag-based filters
    if (currentFilters.activeTag !== 'Recent') {
        const tagFilters = {
            'Family': doc => doc.tags.includes('family') || doc.category.toLowerCase().includes('family'),
            'Travel': doc => doc.tags.includes('travel') || doc.category.toLowerCase().includes('travel'),
            'Medical': doc => doc.tags.includes('medical') || doc.category.toLowerCase().includes('medical'),
            'Photography': doc => doc.tags.includes('photography') || doc.category.toLowerCase().includes('photography'),
            'Essays': doc => doc.tags.includes('essay') || doc.category.toLowerCase().includes('essay')
        };
        
        if (tagFilters[currentFilters.activeTag]) {
            filteredDocuments = filteredDocuments.filter(tagFilters[currentFilters.activeTag]);
        }
    }
    
    // Sort by date (most recent first)
    filteredDocuments.sort((a, b) => b.year - a.year);
    
    // Update display
    updateDocumentDisplay(filteredDocuments);
    updateResultsCount(filteredDocuments.length);
    
    // Auto-scroll to results if search is active and results found
    const isFiltered = currentFilters.search || currentFilters.category || currentFilters.year || currentFilters.location || currentFilters.activeTag !== 'Recent';
    if (isFiltered && filteredDocuments.length > 0) {
        setTimeout(() => {
            const resultsSection = document.querySelector('.featured-section');
            if (resultsSection) {
                resultsSection.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
                resultsSection.classList.add('scroll-to-results');
                setTimeout(() => resultsSection.classList.remove('scroll-to-results'), 2000);
            }
        }, 100);
    }
}

// Update document display
function updateDocumentDisplay(documents) {
    const featuredSection = document.querySelector('.featured-grid');
    const documentsSection = document.querySelector('.documents-section');
    
    if (!featuredSection || !documentsSection) return;
    
    // Clear existing content
    featuredSection.innerHTML = '';
    documentsSection.innerHTML = '';
    
    if (documents.length === 0) {
        showNoResults();
        return;
    }
    
    // Separate featured and regular documents
    const featuredDocs = documents.filter(doc => doc.featured);
    const regularDocs = documents.filter(doc => !doc.featured);
    
    // Populate featured section
    featuredDocs.forEach(doc => {
        featuredSection.appendChild(createDocumentCard(doc, true));
    });
    
    // Populate regular documents section
    regularDocs.forEach(doc => {
        documentsSection.appendChild(createDocumentCard(doc, false));
    });
    
    // Hide featured section if no featured documents
    const featuredSectionContainer = document.querySelector('.featured-section');
    if (featuredDocs.length === 0) {
        featuredSectionContainer.style.display = 'none';
    } else {
        featuredSectionContainer.style.display = 'block';
    }
}

// Create document card element
function createDocumentCard(doc, isFeatured = false) {
    const card = document.createElement('div');
    card.className = isFeatured ? 'document-card' : 'document-card';
    card.dataset.docId = doc.id;
    
    // Generate document preview based on type and category
    const documentPreview = generateDocumentPreview(doc);
    
    card.innerHTML = `
        <div class="document-preview document-preview-${doc.type.toLowerCase()}">
            ${documentPreview}
            <div class="document-type">${doc.type}</div>
        </div>
        <div class="document-info">
            <div class="document-category">${doc.category}</div>
            <h3 class="document-title">${doc.title}</h3>
            <p class="document-excerpt">${doc.excerpt}</p>
            <div class="document-meta">
                <span class="document-date">${doc.date}</span>
                <span class="document-pages">${doc.pages}</span>
            </div>
        </div>
    `;
    
    // Add click handler
    card.addEventListener('click', () => {
        window.location.href = 'viewer.html';
    });
    
    return card;
}

// Generate realistic document preview based on content
function generateDocumentPreview(doc) {
    const templates = {
        'Travel Journal': generateTravelDocument(doc),
        'Travel': generateTravelDocument(doc),
        'Family Newsletter': generateFamilyNewsletter(doc),
        'Family': generateFamilyDocument(doc),
        'Essay': generateEssayDocument(doc),
        'Medical': generateMedicalDocument(doc),
        'Medical Experience': generateMedicalDocument(doc),
        'Photography': generatePhotographyDocument(doc)
    };
    
    const cssPreview = templates[doc.category] || generateGenericDocument(doc);
    const imageOverlay = shouldUseImageOverlay(doc) ? generateImageOverlay(doc) : '';
    
    return cssPreview + imageOverlay;
}

// Determine if document should have image overlay
function shouldUseImageOverlay(doc) {
    const imageCategories = ['Travel Journal', 'Travel', 'Photography', 'Family Newsletter'];
    return imageCategories.includes(doc.category);
}

// Generate subtle image overlay
function generateImageOverlay(doc) {
    const imageId = getImageIdForDocument(doc);
    const imageUrl = `https://picsum.photos/id/${imageId}/300/200?blur=1`;
    
    return `
        <div class="doc-image-overlay" style="background-image: url('${imageUrl}');">
            <div class="doc-image-overlay-gradient"></div>
        </div>
    `;
}

// Get image ID for document category
function getImageIdForDocument(doc) {
    const categoryImages = {
        'Travel Journal': 111, // Mountains/landscape
        'Travel': 116,         // Nature/travel  
        'Family Newsletter': 91, // Vintage/family feel
        'Family': 91,          // Same as newsletter
        'Photography': 159,    // Camera/artistic
    };
    
    return categoryImages[doc.category] || (Math.abs(hashCode(doc.id)) % 200) + 1;
}

// Simple hash function for consistent image selection
function hashCode(str) {
    let hash = 0;
    for (let i = 0; i < str.length; i++) {
        const char = str.charCodeAt(i);
        hash = ((hash << 5) - hash) + char;
        hash = hash & hash; // Convert to 32-bit integer
    }
    return hash;
}

function generateFamilyNewsletter(doc) {
    return `
        <div class="doc-paper">
            <div class="doc-header">
                <div class="doc-title-text">Les Nouvelles de Famille</div>
                <div class="doc-subtitle-text">2017 Annual Newsletter</div>
            </div>
            <div class="doc-content-lines">
                <div class="doc-line long"></div>
                <div class="doc-line medium"></div>
                <div class="doc-line long"></div>
                <div class="doc-photo-space"></div>
                <div class="doc-line short"></div>
                <div class="doc-line medium"></div>
                <div class="doc-line long"></div>
            </div>
        </div>
    `;
}

function generateTravelDocument(doc) {
    return `
        <div class="doc-paper">
            <div class="doc-header">
                <div class="doc-title-text">${doc.title.substring(0, 20)}...</div>
                <div class="doc-subtitle-text">Travel Journal</div>
            </div>
            <div class="doc-content-lines">
                <div class="doc-line long"></div>
                <div class="doc-line medium"></div>
                <div class="doc-photo-space"></div>
                <div class="doc-line short"></div>
                <div class="doc-line long"></div>
                <div class="doc-line medium"></div>
            </div>
        </div>
    `;
}

function generateEssayDocument(doc) {
    return `
        <div class="doc-paper">
            <div class="doc-header">
                <div class="doc-title-text">${doc.title.substring(0, 18)}...</div>
                <div class="doc-author-text">Dr. James Landreth</div>
            </div>
            <div class="doc-content-lines">
                <div class="doc-line long"></div>
                <div class="doc-line long"></div>
                <div class="doc-line medium"></div>
                <div class="doc-line long"></div>
                <div class="doc-line short"></div>
                <div class="doc-line long"></div>
            </div>
        </div>
    `;
}

function generateMedicalDocument(doc) {
    return `
        <div class="doc-paper">
            <div class="doc-header">
                <div class="doc-title-text">Medical Reflections</div>
                <div class="doc-subtitle-text">Professional Practice</div>
            </div>
            <div class="doc-content-lines">
                <div class="doc-line long"></div>
                <div class="doc-line medium"></div>
                <div class="doc-line long"></div>
                <div class="doc-chart-placeholder">📊</div>
                <div class="doc-line short"></div>
                <div class="doc-line medium"></div>
            </div>
        </div>
    `;
}

function generatePhotographyDocument(doc) {
    return `
        <div class="doc-paper">
            <div class="doc-header">
                <div class="doc-title-text">Through the Lens</div>
                <div class="doc-subtitle-text">Photography Collection</div>
            </div>
            <div class="doc-content-lines">
                <div class="doc-photo-space large"></div>
                <div class="doc-line medium"></div>
                <div class="doc-line short"></div>
                <div class="doc-line long"></div>
            </div>
        </div>
    `;
}

function generateFamilyDocument(doc) {
    return `
        <div class="doc-paper">
            <div class="doc-header">
                <div class="doc-title-text">Family History</div>
            </div>
            <div class="doc-content-lines">
                <div class="doc-line long"></div>
                <div class="doc-line medium"></div>
                <div class="doc-family-tree">👨‍👩‍👧‍👦</div>
                <div class="doc-line short"></div>
                <div class="doc-line long"></div>
            </div>
        </div>
    `;
}

function generateGenericDocument(doc) {
    return `
        <div class="doc-paper">
            <div class="doc-header">
                <div class="doc-title-text">Document</div>
            </div>
            <div class="doc-content-lines">
                <div class="doc-line long"></div>
                <div class="doc-line medium"></div>
                <div class="doc-line long"></div>
                <div class="doc-line short"></div>
                <div class="doc-line medium"></div>
            </div>
        </div>
    `;
}


// Show no results message
function showNoResults() {
    const documentsSection = document.querySelector('.documents-section');
    const featuredSection = document.querySelector('.featured-section');
    
    featuredSection.style.display = 'none';
    
    documentsSection.innerHTML = `
        <div style="grid-column: 1 / -1; text-align: center; padding: 60px 20px; background: rgba(255, 255, 255, 0.9); border-radius: 15px; backdrop-filter: blur(10px);">
            <div style="font-size: 3rem; margin-bottom: 20px;">📄</div>
            <h3 style="font-size: 1.5rem; color: #2c3e50; margin-bottom: 10px;">No Documents Found</h3>
            <p style="color: #7f8c8d; margin-bottom: 20px;">Try adjusting your search terms or filters to find what you're looking for.</p>
            <button onclick="clearAllFilters()" style="background: #667eea; color: white; border: none; padding: 12px 24px; border-radius: 25px; font-weight: 600; cursor: pointer;">Clear All Filters</button>
        </div>
    `;
}

// Update results count with prominent display
function updateResultsCount(count) {
    const isFiltered = currentFilters.search || currentFilters.category || currentFilters.year || currentFilters.location || currentFilters.activeTag !== 'Recent';
    
    // Update featured header
    const featuredHeader = document.querySelector('.featured-header h2');
    if (featuredHeader) {
        if (isFiltered) {
            featuredHeader.textContent = `Search Results (${count} document${count !== 1 ? 's' : ''} found)`;
        } else {
            featuredHeader.textContent = 'Featured Documents';
        }
    }
    
    // Add/update search results banner at top
    addSearchResultsBanner(count, isFiltered);
}

// Add prominent search results banner
function addSearchResultsBanner(count, isFiltered) {
    let banner = document.getElementById('search-results-banner');
    
    if (isFiltered) {
        if (!banner) {
            banner = document.createElement('div');
            banner.id = 'search-results-banner';
            banner.style.cssText = `
                background: rgba(16, 185, 129, 0.1);
                border: 2px solid #10b981;
                border-radius: 15px;
                padding: 20px;
                margin: 20px 0;
                text-align: center;
                backdrop-filter: blur(10px);
                animation: slideDown 0.3s ease;
            `;
            
            const welcomeBanner = document.querySelector('.welcome-banner');
            welcomeBanner.parentNode.insertBefore(banner, welcomeBanner.nextSibling);
        }
        
        let searchText = '';
        if (currentFilters.search) searchText = ` for "${currentFilters.search}"`;
        if (currentFilters.category && currentFilters.category !== 'All Categories') searchText += ` in ${currentFilters.category}`;
        if (currentFilters.year && currentFilters.year !== 'All Years') searchText += ` from ${currentFilters.year}`;
        
        banner.innerHTML = `
            <div style="font-size: 1.2rem; color: #047857; font-weight: 600; margin-bottom: 5px;">
                ${count} document${count !== 1 ? 's' : ''} found${searchText}
            </div>
            <div style="color: #065f46; font-size: 14px;">
                ${count === 0 ? 'Try different search terms or ' : ''}
                <button onclick="clearAllFilters()" style="background: none; border: none; color: #10b981; text-decoration: underline; cursor: pointer; font-weight: 600;">Clear all filters</button>
                ${count > 0 ? ' to see all documents' : ''}
            </div>
        `;
    } else if (banner) {
        banner.remove();
    }
}

// Clear all filters
function clearAllFilters() {
    currentFilters = {
        search: '',
        category: '',
        year: '',
        location: '',
        activeTag: 'Recent'
    };
    
    // Reset form controls
    document.querySelector('.search-input').value = '';
    document.querySelectorAll('.filter-select').forEach(select => select.selectedIndex = 0);
    document.querySelectorAll('.filter-tag').forEach(tag => tag.classList.remove('active'));
    document.querySelector('.filter-tag').classList.add('active');
    document.querySelectorAll('.timeline-year').forEach(year => year.classList.remove('active'));
    document.querySelector('.timeline-year').classList.add('active');
    
    applyFilters();
}

// Simple delay function - removing complex debounce
let searchTimeout;
function delayedSearch() {
    clearTimeout(searchTimeout);
    searchTimeout = setTimeout(applyFilters, 200);
}
</script>

</body>
</html>